# GlobalPic AI 项目目录结构设计

基于您的项目需求文档和GitHub最佳实践，以下是推荐的完整项目目录结构：

## 整体项目结构

```
GlobalPic/
├── README.md                           # 项目说明文档
├── .gitignore                         # Git忽略文件
├── .env.example                       # 环境变量示例
├── docker-compose.yml                 # Docker编排文件
├── docker-compose.prod.yml            # 生产环境Docker编排
├── backend/                           # 后端Python应用
│   ├── app/                          # FastAPI应用主目录
│   │   ├── __init__.py
│   │   ├── main.py                   # FastAPI应用入口
│   │   ├── config.py                 # 配置管理
│   │   ├── database.py               # 数据库连接
│   │   ├── api/                      # API路由
│   │   │   ├── __init__.py
│   │   │   └── v1/                   # API版本1
│   │   │       ├── __init__.py
│   │   │       ├── auth.py           # 认证相关路由
│   │   │       ├── users.py          # 用户管理路由
│   │   │       ├── images.py         # 图像处理路由
│   │   │       ├── processing.py     # AI处理路由
│   │   │       └── billing.py        # 支付计费路由
│   │   ├── core/                     # 核心配置
│   │   │   ├── __init__.py
│   │   │   ├── security.py           # 安全配置
│   │   │   ├── permissions.py        # 权限管理
│   │   │   └── logging.py            # 日志配置
│   │   ├── models/                   # 数据模型
│   │   │   ├── __init__.py
│   │   │   ├── user.py               # 用户模型
│   │   │   ├── image.py              # 图像模型
│   │   │   ├── subscription.py       # 订阅模型
│   │   │   └── processing_job.py     # 处理任务模型
│   │   ├── schemas/                  # Pydantic模式
│   │   │   ├── __init__.py
│   │   │   ├── user.py               # 用户Schema
│   │   │   ├── image.py              # 图像Schema
│   │   │   └── processing.py         # 处理Schema
│   │   ├── services/                 # 业务服务
│   │   │   ├── __init__.py
│   │   │   ├── auth_service.py       # 认证服务
│   │   │   ├── image_service.py      # 图像服务
│   │   │   ├── ai_service.py         # AI模型服务
│   │   │   ├── billing_service.py    # 计费服务
│   │   │   └── storage_service.py    # 存储服务
│   │   ├── utils/                    # 工具函数
│   │   │   ├── __init__.py
│   │   │   ├── image_utils.py        # 图像处理工具
│   │   │   ├── validation.py         # 数据验证
│   │   │   └── helpers.py            # 辅助函数
│   │   └── tests/                    # 测试文件
│   │       ├── __init__.py
│   │       ├── conftest.py           # pytest配置
│   │       ├── test_auth.py          # 认证测试
│   │       └── test_image_service.py # 图像服务测试
│   ├── requirements.txt              # Python依赖
│   ├── requirements-dev.txt          # 开发依赖
│   ├── alembic/                      # 数据库迁移
│   │   ├── env.py
│   │   ├── script.py.mako
│   │   └── versions/                 # 迁移版本
│   └── Dockerfile                    # 后端Docker文件
├── frontend/                         # 前端React应用
│   ├── package.json                  # Node.js依赖
│   ├── tsconfig.json                 # TypeScript配置
│   ├── vite.config.ts                # Vite配置
│   ├── tailwind.config.js            # Tailwind CSS配置
│   ├── Dockerfile                    # 前端Docker文件
│   ├── public/                       # 静态资源
│   │   ├── index.html
│   │   ├── favicon.ico
│   │   └── assets/                   # 静态资源文件
│   └── src/                          # 源代码
│       ├── main.tsx                  # 应用入口
│       ├── App.tsx                   # 主应用组件
│       ├── index.css                 # 全局样式
│       ├── types/                    # TypeScript类型定义
│       │   ├── api.ts                # API类型
│       │   ├── user.ts               # 用户类型
│       │   └── image.ts              # 图像类型
│       ├── hooks/                    # 自定义Hooks
│       │   ├── useAuth.ts            # 认证Hook
│       │   ├── useImageUpload.ts     # 图像上传Hook
│       │   └── useProcessing.ts      # 处理Hook
│       ├── components/               # React组件
│       │   ├── common/               # 通用组件
│       │   │   ├── Button.tsx
│       │   │   ├── Modal.tsx
│       │   │   ├── Loading.tsx
│       │   │   └── ErrorBoundary.tsx
│       │   ├── auth/                 # 认证组件
│       │   │   ├── LoginForm.tsx
│       │   │   ├── RegisterForm.tsx
│       │   │   └── ProtectedRoute.tsx
│       │   ├── image/                # 图像处理组件
│       │   │   ├── ImageUpload.tsx
│       │   │   ├── ImagePreview.tsx
│       │   │   ├── ProcessingQueue.tsx
│       │   │   └── ResultGallery.tsx
│       │   ├── billing/              # 计费组件
│       │   │   ├── SubscriptionPlans.tsx
│       │   │   ├── PaymentForm.tsx
│       │   │   └── UsageStats.tsx
│       │   └── layout/               # 布局组件
│       │       ├── Header.tsx
│       │       ├── Sidebar.tsx
│       │       └── Footer.tsx
│       ├── pages/                    # 页面组件
│       │   ├── Home.tsx              # 首页
│       │   ├── Dashboard.tsx         # 仪表板
│       │   ├── ImageProcessing.tsx   # 图像处理页面
│       │   ├── Profile.tsx           # 用户资料
│       │   └── Pricing.tsx           # 价格页面
│       ├── utils/                    # 前端工具函数
│       │   ├── api.ts                # API调用
│       │   ├── imageUtils.ts         # 图像处理工具
│       │   └── constants.ts          # 常量定义
│       ├── styles/                   # 样式文件
│       │   ├── globals.css
│       │   ├── components.css
│       │   └── themes.css
│       └── assets/                   # 资源文件
│           ├── images/
│           ├── icons/
│           └── fonts/
├── ai/                               # AI模型相关
│   ├── models/                       # 模型文件
│   │   ├── zimage_turbo/             # Z-Image-Turbo模型
│   │   │   ├── config.json
│   │   │   ├── pytorch_model.bin
│   │   │   └── tokenizer.json
│   │   ├── sam/                      # SAM模型
│   │   │   ├── sam_vit_h_4b8939.pth
│   │   │   └── model_config.yaml
│   │   └── backup/                   # 备用模型
│   │       └── stable_diffusion/
│   ├── prompts/                      # 提示词模板
│   │   ├── background_styles.json    # 背景风格模板
│   │   ├── text_removal.json         # 文字擦除模板
│   │   └── copywriting.json          # 文案生成模板
│   ├── utils/                        # AI工具
│   │   ├── model_loader.py           # 模型加载器
│   │   ├── inference.py              # 推理接口
│   │   └── postprocessing.py         # 后处理
│   └── data/                         # 训练数据
│       ├── style_references/         # 风格参考图
│       ├── training_samples/         # 训练样本
│       └── evaluation/               # 评估数据
├── docs/                             # 文档
│   ├── api/                          # API文档
│   │   ├── openapi.yaml             # OpenAPI规范
│   │   └── endpoints.md             # 接口说明
│   ├── user-guide/                   # 用户指南
│   │   ├── getting-started.md       # 快速开始
│   │   ├── image-processing.md      # 图像处理指南
│   │   └── billing.md               # 计费说明
│   ├── technical/                    # 技术文档
│   │   ├── architecture.md          # 架构设计
│   │   ├── deployment.md            # 部署指南
│   │   └── troubleshooting.md       # 故障排除
│   └── design/                       # 设计文档
│       ├── ui-mockups/              # UI原型
│       └── user-flows.md            # 用户流程
├── scripts/                          # 脚本文件
│   ├── setup.sh                     # 项目初始化脚本
│   ├── deploy.sh                    # 部署脚本
│   ├── test.sh                      # 测试脚本
│   ├── backup.sh                    # 备份脚本
│   └── migration/                   # 数据迁移脚本
│       └── v1_to_v2.py
├── config/                           # 配置文件
│   ├── nginx.conf                   # Nginx配置
│   ├── redis.conf                   # Redis配置
│   ├── postgres.conf                # PostgreSQL配置
│   └── monitoring.yml               # 监控配置
├── deployment/                       # 部署相关
│   ├── docker/                      # Docker配置
│   │   ├── Dockerfile.backend       # 后端Dockerfile
│   │   ├── Dockerfile.frontend      # 前端Dockerfile
│   │   ├── docker-compose.yml       # 开发环境编排
│   │   └── docker-compose.prod.yml  # 生产环境编排
│   ├── kubernetes/                  # K8s配置
│   │   ├── namespace.yaml
│   │   ├── deployment-backend.yaml
│   │   ├── deployment-frontend.yaml
│   │   ├── service.yaml
│   │   └── ingress.yaml
│   └── terraform/                   # Terraform基础设施
│       ├── main.tf
│       ├── variables.tf
│       └── outputs.tf
├── tools/                            # 开发工具
│   ├── postman/                     # Postman集合
│   │   └── GlobalPic-API.postman_collection.json
│   ├── vscode/                      # VSCode配置
│   │   └── settings.json
│   └── scripts/                     # 开发脚本
├── tests/                            # 测试文件
│   ├── unit/                        # 单元测试
│   │   ├── backend/
│   │   └── frontend/
│   ├── integration/                 # 集成测试
│   │   ├── api/
│   │   └── database/
│   └── e2e/                         # 端到端测试
│       ├── cypress/
│       └── playwright/
├── data/                             # 数据文件
│   ├── raw/                         # 原始数据
│   ├── processed/                   # 处理后数据
│   ├── samples/                     # 示例图片
│   └── cache/                       # 缓存数据
├── logs/                             # 日志文件
│   ├── application.log
│   ├── error.log
│   └── access.log
├── .github/                          # GitHub配置
│   └── workflows/                   # CI/CD流水线
│       ├── ci.yml
│       ├── cd.yml
│       └── security.yml
├── .env                              # 环境变量（本地）
├── .env.production                   # 生产环境变量
└── .env.staging                      # 测试环境变量
```

## 目录结构说明

### 后端 (backend/)
- **app/api/v1/**: RESTful API路由，按功能模块组织
- **app/services/**: 业务逻辑服务层，遵循单一职责原则
- **app/models/**: 数据库模型，使用SQLAlchemy ORM
- **app/schemas/**: Pydantic数据验证模式
- **app/core/**: 核心配置和工具函数
- **alembic/**: 数据库版本控制和迁移

### 前端 (frontend/)
- **src/components/**: 可复用组件，按功能分类
- **src/pages/**: 页面级组件
- **src/hooks/**: 自定义React Hooks
- **src/types/**: TypeScript类型定义
- **src/utils/**: 前端工具函数和API调用

### AI模型 (ai/)
- **models/**: AI模型文件和数据
- **prompts/**: 提示词工程模板
- **utils/**: AI相关工具函数
- **data/**: 训练和评估数据

### 部署 (deployment/)
- **docker/**: 容器化配置
- **kubernetes/**: K8s编排文件
- **terraform/**: 基础设施即代码

## 技术栈集成点

### 数据库设计
- **PostgreSQL**: 主数据库，存储用户、订阅、图像元数据
- **Redis**: 缓存和会话存储
- **S3/MinIO**: 图像文件存储

### API设计
- **FastAPI**: RESTful API框架
- **OpenAPI/Swagger**: API文档自动生成
- **JWT**: 用户认证

### 前端架构
- **React 18**: 函数组件 + Hooks
- **TypeScript**: 类型安全
- **Tailwind CSS**: 原子化CSS框架
- **Vite**: 构建工具

### AI模型集成
- **Z-Image-Turbo**: 主要图像生成模型
- **SAM**: 图像分割模型
- **GPT-4-mini**: 文案生成

这个目录结构遵循了：
1. **分层架构**: 清晰的层次分离
2. **模块化**: 功能模块独立
3. **可扩展性**: 支持未来功能扩展
4. **最佳实践**: 符合Python和前端社区标准
5. **开发效率**: 便于团队协作和代码维护

您是否同意这个项目结构设计？如有任何调整建议，请告诉我。